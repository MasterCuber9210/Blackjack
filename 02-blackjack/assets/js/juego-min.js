(()=>{"use strict";let e=[];const t=["A",2,3,4,5,6,7,8,9,10,"J","Q","K"],n=["C","D","H","S"];let l=[],s=!1,a=!0;const r=document.querySelector("#btnPedir"),d=document.querySelector("#btnHold"),o=document.querySelector("#btnNuevo"),c=document.querySelectorAll("small"),i=document.querySelectorAll(".divCartas"),u=()=>{e=[];for(let l=0;l<t.length;l++){const s=t[l];for(let t=0;t<n.length;t++){const l=s+n[t];e.push(l)}}return _.shuffle(e)},h=()=>e.length>0?e.shift():"No hay cartas en el deck",m=(e,t)=>(l[e]+=((e,t)=>{const n=t.substring(0,t.length-1),s=l[e],r=l[l.length-1];return isNaN(n)&&"A"===n?a&&s+11>21||r+11>21?1:11:isNaN(n)?10:1*n})(e,t),c[e].innerText=l[e],l[e]),b=(e,t)=>{const n=document.createElement("img");n.classList.add("carta"),n.alt="Carta Computadora",n.src=`assets/img/${t}.png`,i[e].append(n)},g=e=>{let t=0;do{const e=h();t=m(l.length-1,e),b(i.length-1,e)}while(t<e&&!s);f()},f=()=>{const[e,t]=l;setTimeout(()=>{s?alert("Perdiste"):t>21?alert("Ganaste"):e>t?alert("Ganaste"):e===t?alert("Empate"):alert("Perdiste")},30)};r.addEventListener("click",()=>{const e=h(),t=m(0,e);b(0,e),t>21?(console.warn("Lo siento, perdiste"),r.disabled=!0,d.disabled=!0,s=!0,g(t)):21===t&&(console.warn("21, genial!!"),r.disabled=!0,d.disabled=!0,a=!1,g(t))}),d.addEventListener("click",()=>{r.disabled=!0,d.disabled=!0,a=!1,g(l[0])}),o.addEventListener("click",()=>{((t=2)=>{e=u(),l=[];for(let e=0;e<t;e++)l.push(0);c.forEach(e=>e.innerText=0),i.forEach(e=>e.innerHTML=""),s=!1,r.disabled=!1,d.disabled=!1})()})})();